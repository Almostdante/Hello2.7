    # This Python file uses the following encoding: UTF-8


#from Beautiful_NNM import parse_nnm
#from Handsome_rutracker import parse_rutracker
from imdb_api import IMDB_Search
import smtplib
import sqlite3
import re
fromaddr = 'almostdante@gmail.com'
toaddrs  = 'admitrie@icloud.com'

username = 'almostdante'
password = 'haeytscqnadbomtv'


#nnm = parse_nnm()
#rutr = parse_rutr()
#all = dict(nnm.items() + rutr.items())
all = [{u'torrent_ID': 5182835, u'Movie': u'\u041f\u0438\u043d\u043e\u043a\u043a\u0438\u043e / Pinocchio ', u'Year': '2013'}, {u'torrent_ID': 5182772, u'Movie': u'\u0417\u043e\u043b\u043e\u0442\u0430\u044f \u0432\u0434\u043e\u0432\u0430 / Une veuve en or ', u'Year': '1969'}, {u'torrent_ID': 5182770, u'Movie': u'\u041c\u043e\u043d\u0430\u0445\u0438\u043d\u044f / La religieuse / The Nun ', u'Year': '1966'}, {u'torrent_ID': 5182724, u'Movie': u'\u041f\u0440\u043e\u0441\u0442\u0430\u044f \u0434\u0435\u0432\u0447\u043e\u043d\u043a\u0430 ', u'Year': '2015'}, {u'torrent_ID': 5182699, u'Movie': u'\u041c\u0443\u0436 \u043f\u043e \u0432\u044b\u0437\u043e\u0432\u0443 ', u'Year': '2015'}, {u'torrent_ID': 4934815, u'Movie': u'\u041f\u0438\u0440\u0430\u043d\u044c\u0438 / Piranha ', u'Year': '2010'}, {u'torrent_ID': 5182578, u'Movie': u'\u0427/\u0411 ', u'Year': '2015'}, {u'torrent_ID': 5182566, u'Movie': u'\u0412\u043e\u0435\u043d\u043d\u044b\u0439 \u043d\u044b\u0440\u044f\u043b\u044c\u0449\u0438\u043a / Men of Honor ', u'Year': '2000'}, {u'torrent_ID': 5182539, u'Movie': u'\u041e\u0432\u0435\u0447\u043a\u0430 \u0414\u043e\u043b\u043b\u0438 \u0431\u044b\u043b\u0430 \u0437\u043b\u0430\u044f \u0438 \u0440\u0430\u043d\u043e \u0443\u043c\u0435\u0440\u043b\u0430 ', u'Year': '2015'}, {u'torrent_ID': 5182470, u'Movie': u'\u041c\u043e\u0439 \u043d\u0430\u0443\u0447\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 / My Science Project ', u'Year': '1985'}, {u'torrent_ID': 5182449, u'Movie': u'\u042d\u043b\u0432\u0438\u043d \u0438 \u0431\u0443\u0440\u0443\u043d\u0434\u0443\u043a\u0438: \u0413\u0440\u0430\u043d\u0434\u0438\u043e\u0437\u043d\u043e\u0435 \u0431\u0443\u0440\u0443\u043d\u0434\u0443\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 / Alvin and the Chipmunks: The Road Chip ', u'Year': '2015'}, {u'torrent_ID': 5182417, u'Movie': u'\u042d\u043b\u0432\u0438\u043d \u0438 \u0431\u0443\u0440\u0443\u043d\u0434\u0443\u043a\u0438: \u0413\u0440\u0430\u043d\u0434\u0438\u043e\u0437\u043d\u043e\u0435 \u0431\u0443\u0440\u0443\u043d\u0434\u0443\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 / Alvin and the Chipmunks: The Road Chip ', u'Year': '2015'}, {u'torrent_ID': 5182393, u'Movie': u'\u0421\u043f\u0443\u0441\u043a / The Descent ', u'Year': '2005'}, {u'torrent_ID': 5182386, u'Movie': u'\u0421\u043e\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438 ', u'Year': '2015'}, {u'torrent_ID': 5182342, u'Movie': u'\u0411\u0435\u0437\u0440\u043e\u0434\u043d\u044b\u0435 \u0437\u0432\u0435\u0440\u0438 / Beasts of No Nation ', u'Year': '2015'}, {u'torrent_ID': 5182309, u'Movie': u'\u0414\u043e\u043a\u043e\u043f\u0430\u0442\u044c\u0441\u044f \u0434\u043e \u0441\u0443\u0442\u0438 / Digging Up the Marrow ', u'Year': '2014'}, {u'torrent_ID': 5182235, u'Movie': u'\u0413\u0435\u043d\u0440\u0438: \u041f\u043e\u0440\u0442\u0440\u0435\u0442 \u0441\u0435\u0440\u0438\u0439\u043d\u043e\u0433\u043e \u0443\u0431\u0438\u0439\u0446\u044b / Henry: Portrait of a Serial Killer ', u'Year': '1986'}, {u'torrent_ID': 5182200, u'Movie': u'\u0421\u0442\u0440\u0430\u043d\u0430 \u0445\u043e\u0440\u043e\u0448\u0438\u0445 \u0434\u0435\u0442\u043e\u0447\u0435\u043a ', u'Year': '2013'}, {u'torrent_ID': 5182199, u'Movie': u'\u0418\u0434\u0435\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0430\u0440\u0430 ', u'Year': '2014'}, {u'torrent_ID': 5182198, u'Movie': u'\u041a\u0443\u0434\u0430 \u0443\u0445\u043e\u0434\u0438\u0442 \u043b\u044e\u0431\u043e\u0432\u044c ', u'Year': '2014'}, {u'torrent_ID': 5182197, u'Movie': u'\u0421\u043c\u0430\u0439\u043b\u0438\u043a ', u'Year': '2014'}, {u'torrent_ID': 5182195, u'Movie': u'\u041a\u0440\u0430\u0441\u0430\u0432\u0435\u0446 \u0438 \u0447\u0443\u0434\u043e\u0432\u0438\u0449\u0435 ', u'Year': '2014'}, {u'torrent_ID': 5182186, u'Movie': u'\u041b\u0443\u0440\u0434 / Lourdes ', u'Year': '2009'}, {u'torrent_ID': 5182127, u'Movie': u'\u0420\u0438\u0444 \u041b\u0430\u0440\u0433\u043e / \u041a\u0438-\u041b\u0430\u0440\u0433\u043e / Key Largo ', u'Year': '1948'}, {u'torrent_ID': 5177096, u'Movie': u'\u0412 \u0441\u0435\u0440\u0434\u0446\u0435 \u043c\u043e\u0440\u044f / In the Heart of the Sea ', u'Year': '2015'}, {u'torrent_ID': 5182068, u'Movie': u'\u041e\u0434\u0438\u043d\u043e\u043a\u0438\u0435 \u043e\u0442\u0432\u0430\u0436\u043d\u044b / Lonely Are the Brave ', u'Year': '1962'}, {u'torrent_ID': 5182044, u'Movie': u'\u041c\u043e\u043b\u043e\u0434\u043e\u0441\u0442\u044c / Youth ', u'Year': '2015'}, {u'torrent_ID': 5181897, u'Movie': u'\u0422\u0451\u043c\u043d\u044b\u0439 \u043c\u0438\u0440 ', u'Year': '2010'}, {u'torrent_ID': 5181885, u'Movie': u'\u041d\u0430 \u043b\u043e\u043d\u0435 \u043f\u0440\u0438\u0440\u043e\u0434\u044b / \u0425\u043e\u0440\u043e\u0448\u043e \u043d\u0430 \u043f\u0440\u0438\u0440\u043e\u0434\u0435 / The Great Outdoors ', u'Year': '1988'}, {u'torrent_ID': 5181861, u'Movie': u'\u0422\u0440\u0443\u043f \u0410\u043d\u043d\u044b \u0424\u0440\u0438\u0442\u0446 / El cad&#225;ver de Anna Fritz / The Corpse of Anna Fritz ', u'Year': '2015'}, {u'torrent_ID': 5181806, u'Movie': u'\u041d\u043e\u0447\u043d\u0430\u044f \u0444\u0438\u0430\u043b\u043a\u0430 ', u'Year': '2013'}, {u'torrent_ID': 5181805, u'Movie': u'\u0410\u043c\u0443\u043b\u0435\u0442 ', u'Year': '2013'}, {u'torrent_ID': 5181804, u'Movie': u'\u041f\u043e\u043b\u0446\u0430\u0440\u0441\u0442\u0432\u0430 \u0437\u0430 \u043b\u044e\u0431\u043e\u0432\u044c ', u'Year': '2014'}, {u'torrent_ID': 5181802, u'Movie': u'\u0425\u0440\u0430\u043d\u0438 \u0435\u0451, \u043b\u044e\u0431\u043e\u0432\u044c ', u'Year': '2014'}, {u'torrent_ID': 5181801, u'Movie': u'\u041c\u043e\u0441\u043a\u0432\u0430 - \u041b\u043e\u043f\u0443\u0448\u043a\u0438 ', u'Year': '2014'}, {u'torrent_ID': 5181821, u'Movie': u'\u0412\u044b\u043c\u0438\u0440\u0430\u043d\u0438\u0435 / Extinction ', u'Year': '2015'}, {u'torrent_ID': 5181739, u'Movie': u'\u041c\u043e\u043b\u043e\u0434\u043e\u0441\u0442\u044c / Youth ', u'Year': '2015'}, {u'torrent_ID': 5181728, u'Movie': u'\u0422\u0440\u0443\u043f \u0410\u043d\u043d\u044b \u0424\u0440\u0438\u0442\u0446 / El cad&#225;ver de Anna Fritz / The Corpse of Anna Fritz ', u'Year': '2015'}, {u'torrent_ID': 5180602, u'Movie': u'\u041f\u0430\u0440\u0444\u044e\u043c\u0435\u0440: \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u0434\u043d\u043e\u0433\u043e \u0443\u0431\u0438\u0439\u0446\u044b / Perfume: The Story of a Murderer ', u'Year': '2006'}, {u'torrent_ID': 5181711, u'Movie': u'\u0412 \u0441\u0435\u0440\u0434\u0446\u0435 \u043c\u043e\u0440\u044f / In the Heart of the Sea ', u'Year': '2015'}, {u'torrent_ID': 5181619, u'Movie': u'\u0412 \u0441\u0435\u0440\u0434\u0446\u0435 \u043c\u043e\u0440\u044f / In the Heart of the Sea ', u'Year': '2015'}, {u'torrent_ID': 5181613, u'Movie': u'\u0412 \u0441\u0435\u0440\u0434\u0446\u0435 \u043c\u043e\u0440\u044f / In the Heart of the Sea ', u'Year': '2015'}, {u'torrent_ID': 5181580, u'Movie': u'\u041c\u043e\u043b\u043e\u0434\u043e\u0441\u0442\u044c / Youth ', u'Year': '2015'}, {u'torrent_ID': 5181571, u'Movie': u'\u041c\u043e\u043b\u043e\u0434\u043e\u0441\u0442\u044c / Youth ', u'Year': '2015'}, {u'torrent_ID': 5181396, u'Movie': u'\u0411\u043e\u043b\u044c\u0448\u0430\u044f \u0441\u0432\u0430\u0434\u044c\u0431\u0430 / The Big Wedding ', u'Year': '2013'}, {u'torrent_ID': 5181389, u'Movie': u'\u041d\u0435\u043f\u043e\u043a\u043e\u0440\u043d\u044b\u0439 / \u041d\u0435\u043f\u043e\u0432\u0438\u043d\u043e\u0432\u0435\u043d\u0438\u0435 / Defiance ', u'Year': '1980'}, {u'torrent_ID': 5181372, u'Movie': u'\u041c\u0443\u0437\u0430 / \u042b\u043d \u0413\u0435 / A Muse / EunGyo ', u'Year': '2012'}, {u'torrent_ID': 5181308, u'Movie': u'\u041a\u0440\u044b\u0441\u0430 / Ratter ', u'Year': '2015'}, {u'torrent_ID': 5181268, u'Movie': u'\u041b\u044e\u0431\u0438\u0442\u0435 \u041a\u0443\u043f\u0435\u0440\u043e\u0432 / Love the Coopers ', u'Year': '2015'}, {u'torrent_ID': 5181221, u'Movie': u'\u041a\u0440\u0430\u0434\u0443\u0449\u0438\u0439\u0441\u044f \u0442\u0438\u0433\u0440, \u0437\u0430\u0442\u0430\u0438\u0432\u0448\u0438\u0439\u0441\u044f \u0434\u0440\u0430\u043a\u043e\u043d: \u041c\u0435\u0447 \u0441\u0443\u0434\u044c\u0431\u044b / Crouching Tiger, Hidden Dragon: Sword of Destiny ', u'Year': '2016'}, {u'torrent_ID': 5181166, u'Movie': u'\u0421\u0445\u0432\u0430\u0442\u043a\u0430 / The Grey ', u'Year': '2011'}, {u'torrent_ID': 5181067, u'Movie': u'\u0412 \u0446\u0435\u043d\u0442\u0440\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u044f / Spotlight ', u'Year': '2015'}, {u'torrent_ID': 5180839, u'Movie': u'\u0413\u043e\u0440\u043d\u0438\u0447\u043d\u0430\u044f / \u0421\u043b\u0443\u0436\u0430\u043d\u043a\u0430 / Hanyo / The Housemaid ', u'Year': '1960'}, {u'torrent_ID': 5179515, u'Movie': u'\u042f\u0439\u0446\u0435\u0433\u043e\u043b\u043e\u0432\u044b\u0435 / \u041a\u043e\u043d\u0443\u0441\u043e\u0433\u043e\u043b\u043e\u0432\u044b\u0435 / Coneheads ', u'Year': '1993'}, {u'torrent_ID': 5180618, u'Movie': u'\u041f\u044f\u0442\u044c \u043d\u0435\u0432\u0435\u0441\u0442 ', u'Year': '2011'}, {u'torrent_ID': 5180613, u'Movie': u'\u0418\u0437 13 \u0432 30 / \u041c\u0435\u0447\u0442\u044b \u0441\u0431\u044b\u0432\u0430\u044e\u0442\u0441\u044f / 13 Going on 30 ', u'Year': '2004'}, {u'torrent_ID': 5180548, u'Movie': u'\u0421\u0445\u0432\u0430\u0442\u043a\u0430 / The Grey ', u'Year': '2011'}, {u'torrent_ID': 5180423, u'Movie': u'\u041f\u0440\u0438\u0434\u043e\u0440\u043e\u0436\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0435 / Red Rock West ', u'Year': '1993'}, {u'torrent_ID': 5180323, u'Movie': u'\u041c\u0435\u043b\u0430\u043d\u0445\u043e\u043b\u0438\u044f / Melancholia ', u'Year': '2011'}, {u'torrent_ID': 5180322, u'Movie': u'\u041c\u0435\u043b\u0430\u043d\u0445\u043e\u043b\u0438\u044f / Melancholia ', u'Year': '2011'}, {u'torrent_ID': 5180300, u'Movie': u'\u0411\u0435\u043b\u044b\u0435 \u043d\u043e\u0447\u0438 / Le Notti Bianche ', u'Year': '1957'}, {u'torrent_ID': 5166768, u'Movie': u'\u0423\u043d\u0435\u0441\u0435\u043d\u043d\u044b\u0435 \u0432\u0435\u0442\u0440\u043e\u043c / Gone with the Wind ', u'Year': '1939'}, {u'torrent_ID': 5180156, u'Movie': u'\u0418\u0437 13 \u0432 30 / \u041c\u0435\u0447\u0442\u044b \u0441\u0431\u044b\u0432\u0430\u044e\u0442\u0441\u044f / 13 Going on 30 ', u'Year': '2004'}, {u'torrent_ID': 5180069, u'Movie': u'\u0412\u0438\u043a\u0442\u043e\u0440 \u0424\u0440\u0430\u043d\u043a\u0435\u043d\u0448\u0442\u0435\u0439\u043d / Victor Frankenstein ', u'Year': '2015'}, {u'torrent_ID': 5179790, u'Movie': u'\u0422\u0440\u0438 \u043c\u0435\u0442\u0440\u0430 \u043d\u0430\u0434 \u0443\u0440\u043e\u0432\u043d\u0435\u043c \u043d\u0435\u0431\u0430: \u042f \u0442\u0435\u0431\u044f \u0445\u043e\u0447\u0443 / Tengo ganas de ti ', u'Year': '2012'}, {u'torrent_ID': 5180013, u'Movie': u'\u0421\u0442\u0430\u0432\u043a\u0430 \u043d\u0430 \u043b\u044e\u0431\u043e\u0432\u044c ', u'Year': '2015'}, {u'torrent_ID': 5179872, u'Movie': u'\u0422\u0451\u043c\u043d\u044b\u0439 \u043c\u0438\u0440: \u0420\u0430\u0432\u043d\u043e\u0432\u0435\u0441\u0438\u0435 ', u'Year': '2013'}, {u'torrent_ID': 5179751, u'Movie': u'\u041f\u043b\u043e\u0449\u0430\u0434\u043a\u0430 3 / \u041f\u043b\u043e\u0449\u0430\u0434\u043a\u0430: \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u0434\u043e\u043c\u043e\u0439 / The Sandlot 3 / The Sandlot: Heading Home ', u'Year': '2007'}, {u'torrent_ID': 5179736, u'Movie': u'\u0421\u0442\u0440\u043e\u0433\u043e \u043d\u0430 \u0437\u0430\u043f\u0430\u0434 / Slow West ', u'Year': '2015'}, {u'torrent_ID': 5179678, u'Movie': u'\u0421\u0442\u0440\u043e\u0433\u043e \u043d\u0430 \u0437\u0430\u043f\u0430\u0434 / Slow West ', u'Year': '2015'}, {u'torrent_ID': 5179640, u'Movie': u'\u041e\u0431\u043b\u0430\u0447\u043d\u044b\u0439 \u0430\u0442\u043b\u0430\u0441 / Cloud Atlas ', u'Year': '2012'}, {u'torrent_ID': 5167102, u'Movie': u'\u0421\u0442\u0440\u043e\u0433\u043e \u043d\u0430 \u0437\u0430\u043f\u0430\u0434 / Slow West ', u'Year': '2015'}, {u'torrent_ID': 5167119, u'Movie': u'\u0421\u0442\u0440\u043e\u0433\u043e \u043d\u0430 \u0437\u0430\u043f\u0430\u0434 / Slow West ', u'Year': '2015'}, {u'torrent_ID': 5179610, u'Movie': u'\u041e\u0441\u0432\u043e\u0431\u043e\u0434\u0438\u0442\u0435 \u0441\u043e\u0441\u043a\u0438 / Free the Nipple ', u'Year': '2014'}, {u'torrent_ID': 5179595, u'Movie': u'\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0434\u0435\u0432\u0443\u0448\u043a\u0438 / The Final Girls ', u'Year': '2015'}, {u'torrent_ID': 5179578, u'Movie': u'\u0420\u043e\u0431 \u0420\u043e\u0439 / Rob Roy ', u'Year': '1995'}, {u'torrent_ID': 5179565, u'Movie': u'\u0423\u043b\u044c\u0442\u0440\u0430\u0430\u043c\u0435\u0440\u0438\u043a\u0430\u043d\u0446\u044b / American Ultra ', u'Year': '2015'}, {u'torrent_ID': 5179563, u'Movie': u'\u0423\u043b\u044c\u0442\u0440\u0430\u0430\u043c\u0435\u0440\u0438\u043a\u0430\u043d\u0446\u044b / American Ultra ', u'Year': '2015'}, {u'torrent_ID': 5179553, u'Movie': u'\u0423\u043b\u044c\u0442\u0440\u0430\u0430\u043c\u0435\u0440\u0438\u043a\u0430\u043d\u0446\u044b / American Ultra ', u'Year': '2015'}, {u'torrent_ID': 5179509, u'Movie': u'\u0412\u0438\u0434\u0435\u043d\u0438\u044f / Visions ', u'Year': '2015'}, {u'torrent_ID': 5179449, u'Movie': u'\u0413\u043d\u043e\u043c\u043e\u043c\u043e\u0431\u0438\u043b\u044c / The Gnome-Mobile ', u'Year': '1967'}, {u'torrent_ID': 5179447, u'Movie': u'\u0421\u043e\u0446\u0438\u043e\u0444\u043e\u0431\u0438\u044f / Socialphobia / Sosyeolpobia / So-syeol-po-bi-a ', u'Year': '2014'}, {u'torrent_ID': 5179431, u'Movie': u'\u0424\u0435\u0445\u0442\u043e\u0432\u0430\u043b\u044c\u0449\u0438\u043a / Vehkleja / Miekkailija / The Fencer ', u'Year': '2015'}, {u'torrent_ID': 5179430, u'Movie': u'\u041f\u043e\u044e\u0449\u0438\u0439 \u043f\u043e \u043a\u0430\u0431\u0430\u043a\u0430\u043c / \u0427\u0435\u043b\u043e\u0432\u0435\u043a \u0438\u0437 \u043f\u0440\u0438\u0442\u043e\u043d\u0430 / Honkytonk Man ', u'Year': '1982'}, {u'torrent_ID': 5179412, u'Movie': u'\u041f\u0440\u0438\u0434\u043e\u0440\u043e\u0436\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0435 / Red Rock West ', u'Year': '1993'}, {u'torrent_ID': 5179367, u'Movie': u'\u041b\u044e\u0431\u0438\u0442\u0435 \u041a\u0443\u043f\u0435\u0440\u043e\u0432 / Love the Coopers ', u'Year': '2015'}, {u'torrent_ID': 5179363, u'Movie': u'13 \u0433\u0440\u0435\u0445\u043e\u0432 / 13 Sins ', u'Year': '2013'}, {u'torrent_ID': 5179215, u'Movie': u'\u0424\u0440\u0430\u043d\u043a\u0435\u043d\u0448\u0442\u0435\u0439\u043d / Frankenstein ', u'Year': '2004'}, {u'torrent_ID': 4705902, u'Movie': u'\u0420\u044b\u0446\u0430\u0440\u0438 \u043a\u043e\u0440\u043e\u043b\u0435\u0432\u0441\u0442\u0432\u0430 \u041a\u0440\u0443\u0442\u0438\u0437\u043d\u044b / Knights of Badassdom ', u'Year': '2013'}, {u'torrent_ID': 5179073, u'Movie': u'\u0428\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0435\u043d\u044c\u0433\u0438: \u0420\u043e\u0441\u043a\u043e\u0448\u043d\u0430\u044f \u0436\u0438\u0437\u043d\u044c / Snabba cash - Livet deluxe ', u'Year': '2013'}, {u'torrent_ID': 4329511, u'Movie': u'\u0413\u0443\u043c\u0430\u043d\u0438\u0442\u0430\u0440\u043d\u044b\u0435 \u043d\u0430\u0443\u043a\u0438 / Liberal Arts ', u'Year': '2012'}, {u'torrent_ID': 4326584, u'Movie': u'\u0413\u0443\u043c\u0430\u043d\u0438\u0442\u0430\u0440\u043d\u044b\u0435 \u043d\u0430\u0443\u043a\u0438 / Liberal Arts ', u'Year': '2012'}, {u'torrent_ID': 5179027, u'Movie': u'\u0411\u0430\u043d\u0430\u043d\u044b / Bananas ', u'Year': '1971'}, {u'torrent_ID': 5178874, u'Movie': u'\u041e\u0441\u0432\u043e\u0431\u043e\u0434\u0438\u0442\u0435 \u0441\u043e\u0441\u043a\u0438 / Free the Nipple ', u'Year': '2014'}, {u'torrent_ID': 5178849, u'Movie': u'\u0414\u043e\u0440\u043e\u0433\u0430 \u0432 \u0430\u0434 / \u041f\u0440\u0438\u0432\u0435\u0442 \u0441 \u0434\u043e\u0440\u043e\u0433\u0438 \u0432 \u0430\u0434 / \u0428\u043e\u0441\u0441\u0435 \u0432 \u0430\u0434 / Highway to Hell ', u'Year': '1991'}, {u'torrent_ID': 5178665, u'Movie': u'\u041b\u044e\u0431\u043e\u0432\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u043f\u043b\u0435\u0442 / The Oranges ', u'Year': '2011'}, {u'torrent_ID': 5178563, u'Movie': u'\u0427\u0435\u043b\u043e\u0432\u0435\u043a \u0442\u044c\u043c\u044b / Darkman ', u'Year': '1990'}, {u'torrent_ID': 5178547, u'Movie': u'\u0421\u0443\u0431\u0443\u0440\u0430 / Suburra ', u'Year': '2015'}, {u'torrent_ID': 5178432, u'Movie': u"\u041a\u043e\u043b\u0434\u043e\u0432\u0441\u043a\u0430\u044f \u0434\u043e\u0441\u043a\u0430 2: \u041f\u043e\u0440\u0442\u0430\u043b \u0414\u044c\u044f\u0432\u043e\u043b\u0430 / Witchboard 2: The Devil's Doorway ", u'Year': '1993'}, {u'torrent_ID': 5178371, u'Movie': u'\u041a\u043e\u043b\u0434\u043e\u0432\u0441\u043a\u0430\u044f \u0434\u043e\u0441\u043a\u0430 / \u041a\u043e\u043b\u0434\u043e\u0432\u0441\u043a\u0430\u044f \u0438\u0433\u0440\u0430 / Witchboard ', u'Year': '1986'}, {u'torrent_ID': 5178309, u'Movie': u"\u0427\u0430\u0440\u043b\u044c\u0437 \u0427\u0430\u043f\u043b\u0438\u043d: \u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043d\u044b\u0435 \u043a\u043e\u043c\u0435\u0434\u0438\u0438 \u0441\u0442\u0443\u0434\u0438\u0438 \xab\u042d\u0441\u0441\u0435\u043d\u0435\u0439\xbb / Chaplin's Essanay Comedies ", u'Year': '1915'}, {u'torrent_ID': 5176897, u'Movie': u'13 \u0433\u0440\u0435\u0445\u043e\u0432 / 13 Sins ', u'Year': '2014'}, {u'torrent_ID': 5178297, u'Movie': u'\u0421\u0442\u0438\u0432 \u0414\u0436\u043e\u0431\u0441 / Steve Jobs ', u'Year': '2015'}, {u'torrent_ID': 5178246, u'Movie': u'\u041b\u044e\u0434\u0438 \u043f\u043e\u0434 \u043b\u0435\u0441\u0442\u043d\u0438\u0446\u0435\u0439 / The People Under the Stairs ', u'Year': '1991'}, {u'torrent_ID': 5177064, u'Movie': u'\u041b\u044e\u0434\u0438 \u043f\u043e\u0434 \u043b\u0435\u0441\u0442\u043d\u0438\u0446\u0435\u0439 / The People Under the Stairs ', u'Year': '1991'}, {u'torrent_ID': 5178172, u'Movie': u'\u0421\u0443\u0431\u0443\u0440\u0430 / Suburra ', u'Year': '2015'}, {u'torrent_ID': 5178126, u'Movie': u'\u041c\u0430\u0444\u0438\u044f: \u0418\u0433\u0440\u0430 \u043d\u0430 \u0432\u044b\u0436\u0438\u0432\u0430\u043d\u0438\u0435 ', u'Year': '2015'}, {u'torrent_ID': 5178035, u'Movie': u'\u0424\u0440\u0430\u043d\u0446\u0443\u0437 / Un Fran&#231;ais / French Blood ', u'Year': '2015'}, {u'torrent_ID': 5178087, u'Movie': u'\u0412\u0438\u043a\u0442\u043e\u0440 \u0424\u0440\u0430\u043d\u043a\u0435\u043d\u0448\u0442\u0435\u0439\u043d / Victor Frankenstein ', u'Year': '2015'}, {u'torrent_ID': 5178076, u'Movie': u'\u0410\u0434\u0441\u043a\u0438\u0435 \u0431\u043e\u0439\u0446\u044b / Hellfighters ', u'Year': '1968'}, {u'torrent_ID': 5175551, u'Movie': u'\u041e\u0442\u0435\u043b\u044c &quot;\u0411\u043e\u043b\u044c\u0448\u0430\u044f \u0423\u0434\u0430\u0447\u0430&quot; / Big Fortune Hotel ', u'Year': '2015'}, {u'torrent_ID': 5177910, u'Movie': u'\u0418\u0440\u0440\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0447\u0435\u043b\u043e\u0432\u0435\u043a / Irrational Man ', u'Year': '2015'}, {u'torrent_ID': 5177905, u'Movie': u'\u0418\u0440\u0440\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0447\u0435\u043b\u043e\u0432\u0435\u043a / Irrational Man ', u'Year': '2015'}, {u'torrent_ID': 5177986, u'Movie': u'\u0420\u0435\u0439\u0434 / The Raid: Redemption ', u'Year': '2011'}, {u'torrent_ID': 5177924, u'Movie': u'\u0411\u0430\u0440\u043c\u0435\u043d ', u'Year': '2015'}, {u'torrent_ID': 5177774, u'Movie': u'\u0411\u0438\u043b\u0435\u0442 \u0432 \u0422\u043e\u043c\u0430\u0433\u0430\u0432\u043a / A Ticket to Tomahawk ', u'Year': '1950'}, {u'torrent_ID': 5177768, u'Movie': u'\u041f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u043e\u0433\u043e \u041c\u0443\u043a\u0430 / Die Geschichte vom kleinen Muck ', u'Year': '1953'}, {u'torrent_ID': 5177676, u'Movie': u'\u0421\u043c\u044f\u0442\u0435\u043d\u0438\u0435 \u0438 \u043d\u043e\u0447\u044c / \u0411\u0435\u0441\u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0438 \u043d\u043e\u0447\u044c / Le d&#233;sordre et la nuit ', u'Year': '1958'}, {u'torrent_ID': 5177736, u'Movie': u'\u041c\u0441\u0442\u0438\u0442\u0435\u043b\u0438: \u042d\u0440\u0430 \u0410\u043b\u044c\u0442\u0440\u043e\u043d\u0430 / Avengers: Age of Ultron ', u'Year': '2015'}, {u'torrent_ID': 5177588, u'Movie': u'\u041a\u0440\u0430\u043c\u043f\u0443\u0441 / Krampus ', u'Year': '2015'}, {u'torrent_ID': 5177541, u'Movie': u'\u0427\u0435\u0440\u043d\u0430\u044f \u043c\u0435\u0441\u0441\u0430 / Black Mass ', u'Year': '2015'}, {u'torrent_ID': 5177533, u'Movie': u'SOS, \u0414\u0435\u0434 \u041c\u043e\u0440\u043e\u0437 \u0438\u043b\u0438 \u0412\u0441\u0435 \u0441\u0431\u0443\u0434\u0435\u0442\u0441\u044f! ', u'Year': '2015'}, {u'torrent_ID': 5177527, u'Movie': u'\u041e\u0440\u043b\u0435\u0430\u043d ', u'Year': '2015'}, {u'torrent_ID': 5177525, u'Movie': u'30 \u0441\u0432\u0438\u0434\u0430\u043d\u0438\u0439 ', u'Year': '2016'}, {u'torrent_ID': 5177512, u'Movie': u'\u041e\u0441\u0442\u0440\u0438\u0435 \u0441\u0442\u0440\u0435\u043b\u044b / Arrowhead ', u'Year': '2016'}, {u'torrent_ID': 5177501, u'Movie': u'\u041a\u044d\u0440\u043e\u043b / Carol ', u'Year': '2015'}, {u'torrent_ID': 5177476, u'Movie': u'\u0421\u0442\u0438\u0432 \u0414\u0436\u043e\u0431\u0441 / Steve Jobs ', u'Year': '2015'}, {u'torrent_ID': 5177453, u'Movie': u'\u0425\u0430\u043d\u043d\u0430. \u0421\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e\u0435 \u043e\u0440\u0443\u0436\u0438\u0435 / Hanna ', u'Year': '2011'}, {u'torrent_ID': 5177348, u'Movie': u'\u0411\u043e\u0431\u0435\u0440 / The Beaver ', u'Year': '2011'}, {u'torrent_ID': 5177306, u'Movie': u'\u0420\u0435\u0437\u043d\u044f \u0432 \u0436\u0435\u043d\u0441\u043a\u043e\u0439 \u043e\u0431\u0449\u0430\u0433\u0435 / Sorority House Massacre ', u'Year': '1986'}, {u'torrent_ID': 5177297, u'Movie': u'\u0417\u043e\u043b\u0443\u0448\u043a\u0430 / Cinderella ', u'Year': '2015'}, {u'torrent_ID': 5154766, u'Movie': u'\u0427\u0435\u0440\u043d\u0430\u044f \u043c\u0435\u0441\u0441\u0430 / Black Mass ', u'Year': '2015'}, {u'torrent_ID': 5177215, u'Movie': u'\u0427\u0435\u0440\u043d\u0430\u044f \u043c\u0435\u0441\u0441\u0430 / Black Mass ', u'Year': '2015'}, {u'torrent_ID': 5177118, u'Movie': u'\u041e\u0441\u0442\u0440\u0438\u0435 \u0441\u0442\u0440\u0435\u043b\u044b / Arrowhead ', u'Year': '2016'}, {u'torrent_ID': 5177045, u'Movie': u'\u0413\u043b\u0430\u0432\u0430 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0430 / Head of State ', u'Year': '2003'}, {u'torrent_ID': 5177003, u'Movie': u'\u041a\u0440\u0443\u0442\u043e\u0439 \u0440\u0430\u0439\u043e\u043d / \u0422\u0440\u0443\u0449\u043e\u0431\u044b / \u041f\u043e\u043b\u0438\u0446\u0435\u0439\u0441\u043a\u0438\u0439 \u0443\u0447\u0430\u0441\u0442\u043e\u043a / \u041f\u0435\u0440\u0438\u0444\u0435\u0440\u0438\u044f / Downtown ', u'Year': '1990'}, {u'torrent_ID': 5176961, u'Movie': u'\u041c\u0451\u0434 \u0432 \u0433\u043e\u043b\u043e\u0432\u0435 / Honig im Kopf ', u'Year': '2014'}, {u'torrent_ID': 5176936, u'Movie': u'\u0422\u0440\u0430\u043c\u0431\u043e / Trumbo ', u'Year': '2015'}, {u'torrent_ID': 5175341, u'Movie': u'\u0413\u0440\u0430\u043d\u0438\u0446\u0430 / Fronti&#232;re', u'Year': '2007'}, {u'torrent_ID': 5176905, u'Movie': u'\u041c\u0438\u043b\u043b\u0438\u043e\u043d \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u0432 \u043f\u043e\u0442\u0435\u0440\u044f\u0442\u044c \u0433\u043e\u043b\u043e\u0432\u0443 / A Million Ways to Die in the West ', u'Year': '2014'}, {u'torrent_ID': 5175885, u'Movie': u'\u041c\u0441\u0442\u0438\u0442\u0435\u043b\u0438: \u042d\u0440\u0430 \u0410\u043b\u044c\u0442\u0440\u043e\u043d\u0430 / Avengers: Age of Ultron ', u'Year': '2015'}, {u'torrent_ID': 5176765, u'Movie': u'\u0411\u0430\u0433\u0440\u043e\u0432\u044b\u0439 \u043f\u0438\u043a / Crimson Peak ', u'Year': '2015'}, {u'torrent_ID': 5176722, u'Movie': u'\u0412\u0435\u0447\u0435\u0440 \u0432 \u043c\u044e\u0437\u0438\u043a-\u0445\u043e\u043b\u043b\u0435 / A Night in the Show ', u'Year': '1915'}, {u'torrent_ID': 5176480, u'Movie': u'\u0421\u043d\u0430\u0439\u043f\u0435\u0440: \u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0432\u044b\u0441\u0442\u0440\u0435\u043b ', u'Year': '2015'}, {u'torrent_ID': 5176424, u'Movie': u'\u041f\u043e\u0433\u0440\u0435\u0431\u0435\u043d\u043d\u044b\u0439 \u0437\u0430\u0436\u0438\u0432\u043e / Buried ', u'Year': '2010'}, {u'torrent_ID': 5176308, u'Movie': u'\u0422\u0440\u0430\u043c\u0431\u043e / Trumbo ', u'Year': '2015'}, {u'torrent_ID': 5171738, u'Movie': u'\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c / The Witness / Wo shi zheng ren ', u'Year': '2015'}, {u'torrent_ID': 5176261, u'Movie': u'\u0418\u043a\u0441-\u0418\u043a\u0441-\u0418\u0433\u0440\u0435\u043a / XXY ', u'Year': '2007'}, {u'torrent_ID': 5176196, u'Movie': u'\u0422\u0430\u0439\u043d\u0430 \u0432 \u0438\u0445 \u0433\u043b\u0430\u0437\u0430\u0445 / Secret in Their Eyes ', u'Year': '2015'}, {u'torrent_ID': 5165698, u'Movie': u'\u041a\u043e\u0440\u043e\u0442\u043a\u0430\u044f \u043d\u043e\u0447\u044c \u0441\u0442\u0435\u043a\u043b\u044f\u043d\u043d\u044b\u0445 \u043a\u0443\u043a\u043e\u043b / La corta notte delle bambole di vetro ', u'Year': '1971'}, {u'torrent_ID': 5176096, u'Movie': u'\u041c\u0438\u043b\u043b\u0438\u043e\u043d \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u0432 \u043f\u043e\u0442\u0435\u0440\u044f\u0442\u044c \u0433\u043e\u043b\u043e\u0432\u0443 / A Million Ways to Die in the West ', u'Year': '2014'}, {u'torrent_ID': 5176024, u'Movie': u'\u0414\u043e\u043f\u0438\u043d\u0433 / The Program ', u'Year': '2015'}, {u'torrent_ID': 5173212, u'Movie': u'\u0414\u043e\u043f\u0438\u043d\u0433 / The Program ', u'Year': '2015'}, {u'torrent_ID': 5175985, u'Movie': u'\u041a\u0430\u0440\u0430\u0442\u044d-\u043f\u0430\u0446\u0430\u043d / The Karate Kid ', u'Year': '2010'}, {u'torrent_ID': 5175889, u'Movie': u'\u041f\u043e\u0432\u0435\u043b\u0438\u0442\u0435\u043b\u044c \u043c\u0443\u0445 / Lord of the Flies ', u'Year': '1990'}, {u'torrent_ID': 5169165, u'Movie': u'\u0412 \u0446\u0435\u043d\u0442\u0440\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u044f / Spotlight ', u'Year': '2015'}, {u'torrent_ID': 5175706, u'Movie': u'\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e / The Night Before ', u'Year': '2015'}, {u'torrent_ID': 4915682, u'Movie': u'\u0418\u0437\u043b\u0443\u0447\u0438\u043d\u044b \u041c\u0438\u0441\u0441\u0443\u0440\u0438 / The Missouri Breaks ', u'Year': '1976'}, {u'torrent_ID': 5175650, u'Movie': u'\u0423\u0431\u043e\u0439\u043d\u044b\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b / Tucker and Dale vs. Evil ', u'Year': '2010'}, {u'torrent_ID': 5175625, u'Movie': u'\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e / The Night Before ', u'Year': '2015'}, {u'torrent_ID': 5175614, u'Movie': u'\u041f\u0440\u0430\u0432\u043d\u0443\u043a\u0438 ', u'Year': '2015'}, {u'torrent_ID': 5175599, u'Movie': u'\u041f\u043e\u0434\u0441\u043e\u043b\u043d\u0443\u0445 / Sunflower / Haebaragi ', u'Year': '2006'}, {u'torrent_ID': 5175585, u'Movie': u'\u041a\u043e\u0440\u043e\u043b\u044c-\u043b\u044f\u0433\u0443\u0448\u043e\u043d\u043e\u043a / Froschk&#246;nig / The Frog Prince ', u'Year': '1988'}, {u'torrent_ID': 5175556, u'Movie': u'\u0428\u0438\u0437\u043e\u0438\u0434 / Schizoid ', u'Year': '1980'}, {u'torrent_ID': 5174780, u'Movie': u'\u0427\u043e\u0441\u043e\u043d\u0441\u043a\u0438\u0439 \u041c\u0430\u0433 / Chosun Masoolsa / The Magician ', u'Year': '2015'}, {u'torrent_ID': 5175486, u'Movie': u'\u0423\u0445\u043e\u0434\u044f \u0432 \u043e\u0442\u0440\u044b\u0432 / \u0412\u044b\u0440\u0432\u0430\u0442\u044c\u0441\u044f \u0432\u043f\u0435\u0440\u0435\u0434 / Breaking Away ', u'Year': '1979'}, {u'torrent_ID': 5175402, u'Movie': u'\u041f\u0440\u043e\u0433\u0443\u043b\u043a\u0430 \u043f\u043e \u041c\u0438\u0441\u0441\u0438\u0441\u0438\u043f\u0438 / Mississippi Grind ', u'Year': '2014'}, {u'torrent_ID': 5175401, u'Movie': u'\u041a\u043e\u043c\u043d\u0430\u0442\u0430 / Room ', u'Year': '2015'}, {u'torrent_ID': 5175288, u'Movie': u'\u0417\u043e\u043b\u0443\u0448\u043a\u0430 / Cinderella ', u'Year': '2015'}, {u'torrent_ID': 5175265, u'Movie': u'\u0413\u0440\u0430\u043d\u0438\u0446\u0430 / Fronti&#232;re', u'Year': '2007'}, {u'torrent_ID': 5174247, u'Movie': u'\u041a\u0440\u043e\u0432\u0430\u0432\u0430\u044f \u043b\u0443\u043d\u0430 / Die S&#228;ge des Todes / Bloody moon ', u'Year': '1981'}]
listt = []
conn = sqlite3.connect('Untitled.sqlite')
#conn.text_factory = str
cur = conn.cursor()


for x in all[:]:
    x_ru_name = re.findall(ur'([А-Яа-яё \.,\::\-]{3,})[\/\(]*', x[u'Movie'], re.U)
    if x_ru_name:
        x_ru_name = x_ru_name[0]
    else:
        x_ru_name = '-'
    #TODO: make russian name recognition better
    x_name = x[u'Movie'].split('/')[-1].strip()
    cur.execute("SELECT * FROM Movies WHERE Original_name = ?;", (x_name, ))
    if not cur.fetchone():
        try:
            rate = (IMDB_Search(x_name, unicode(x[u'Year'])))
        except:
            continue
        cur.execute("SELECT * FROM Movies WHERE IMDB_ID = ?;", (rate['IMDB_ID'], ))
        if not cur.fetchone():
            cur.execute('''INSERT OR IGNORE INTO Movies (IMDB_ID, Original_name, Russian_name, Director, Year, IMDB_Rating, IMDB_Votes, Metascore)
            VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )''', ( rate['IMDB_ID'], rate['Title'], x_ru_name, rate['Director'], x[u'Year'], rate['Rating'], rate['Votes'], rate['Metascore'] ) )
conn.commit()



#print listt

# The actual mail send

#server = smtplib.SMTP('smtp.gmail.com:587')
#server.starttls()
#server.login(username,password)
#server.sendmail(fromaddr, toaddrs, msg)
#server.quit()